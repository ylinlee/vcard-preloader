<!-- Imports polymer -->
<link rel="import" href="../polymer/polymer.html">
<!-- Defines element markup -->
<dom-module id="vcard-preloader">
    <template>
        <style>
        .loaded #loader-wrapper, .loaded .loader {
            -webkit-transition: ease-out .3s;
            -moz-transition: ease-out .3s;
            -o-transition: ease-out .3s;
            visibility: hidden;
            background: rgba(255, 255, 255, 0);
            transition: ease-out .3s;
            -webkit-transition: ease-out .3s;
            -moz-transition: ease-out .3s;
            -o-transition: ease-out .3s;
        }

        #loader-wrapper {
            position: fixed;
            z-index: 1000;
            top: 0;
            left: 0;
            background: #fff;
            width: 100%;
            height: 100%;
            text-align: center;
        }
        
        .loader {
            position: relative;
            top: 50%;
            left: 50%;
            -webkit-transform: translate(-50%, -50%);
            -moz-transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
            -o-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
            text-align: center;
        }
        
        .loader div {
            display: inline-block;
            background-color: #141414;
            width: 14px;
            height: 14px;
            margin: 3px;
            -webkit-border-radius: 50%;
            -moz-border-radius: 50%;
            -ms-border-radius: 50%;
            -o-border-radius: 50%;
            border-radius: 50%;
            -webkit-animation: bouncedelay 1.2s infinite ease-in-out;
            animation: bouncedelay 1.2s infinite ease-in-out;
            -webkit-animation-fill-mode: both;
            animation-fill-mode: both
        }
        
        .loader .bounce1 {
            -webkit-animation-delay: -.32s;
            animation-delay: -.32s
        }
        
        .loader .bounce2 {
            -webkit-animation-delay: -.16s;
            animation-delay: -.16s
        }
        
        @-webkit-keyframes bouncedelay {
            0%,
            100%,
            80% {
                -webkit-transform: scale(0);
                -moz-transform: scale(0);
                -ms-transform: scale(0);
                -o-transform: scale(0);
                transform: scale(0)
            }
            40% {
                -webkit-transform: scale(1);
                -moz-transform: scale(1);
                -ms-transform: scale(1);
                -o-transform: scale(1);
                transform: scale(1)
            }
        }
        
        @keyframes bouncedelay {
            0%,
            100%,
            80% {
                -webkit-transform: scale(0);
                -moz-transform: scale(0);
                -ms-transform: scale(0);
                -o-transform: scale(0);
                transform: scale(0)
            }
            40% {
                -webkit-transform: scale(1);
                -moz-transform: scale(1);
                -ms-transform: scale(1);
                -o-transform: scale(1);
                transform: scale(1)
            }
        }
        </style>
        <!-- AsÃ­ mostramos las variables definidas {{}} -->
        <div id="preload-body">
            <div id="loader-wrapper">
                <div class="loader">
                    <div class="bounce1"></div>
                    <div class="bounce2"></div>
                    <div class="bounce3"></div>
                </div>
            </div>
        </div>
    </template>
</dom-module>
<!-- Registers custom element -->
<script>
Polymer({
    is: 'vcard-preloader', //Registramos el nombre del componente
    properties: {
        classLoaded: {
            type: String,
            value: 'loaded'
        }
    },
    addLoadedClass: function() {
        this.toggleClass(this.classLoaded, true, this.$$('#preload-body'));
    }
});
</script>

